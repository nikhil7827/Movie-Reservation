{% extends "base.html" %}
{% block content %}
  <h1>Movie Listings</h1>
  <div class="movie-grid">
    {% for movie in movies %}
      <div class="movie-item">
        <a href="{{ url_for('movie.movie_detail', movie_id=movie.id) }}">
          <img src="{{ movie.poster_url or 'https://via.placeholder.com/150' }}" alt="{{ movie.title }}" width="150">
          <p>{{ movie.title }}</p>
        </a>
      </div>
    {% endfor %}
  </div>
  {% if current_user.is_authenticated and current_user.role == 'admin' %}
    <a href="{{ url_for('movie.show_add_movie') }}" class="btn btn-primary">Add Movie</a>
  {% endif %}
{% endblock %}

<style>
  .movie-grid { display: flex; flex-wrap: wrap; gap: 20px; }
  .movie-item { text-align: center; }
  .movie-item img { max-width: 100%; height: auto; }
</style>